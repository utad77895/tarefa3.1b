{"remainingRequest":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js!C:\\MEIW_PAW\\MiniProj2\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\MEIW_PAW\\MiniProj2\\src\\store\\auth\\auth.module.js","dependencies":[{"path":"C:\\MEIW_PAW\\MiniProj2\\src\\store\\auth\\auth.module.js","mtime":1576832059000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkM6XFxNRUlXX1BBV1xcTWluaVByb2oyXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXE1FSVdfUEFXXFxNaW5pUHJvajJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBhdXRoU2VydmljZSB9IGZyb20gIkAvYXBpL2F1dGguc2VydmljZS5qcyI7CmltcG9ydCB7IEFVVEhfTE9HSU4sIEFVVEhfUkVHSVNURVIsIEFVVEhfSU5GTywgQVVUSF9MT0dJTl9TVUNDRVNTLCBBVVRIX0xPR09VVF9TVUNDRVNTLCBBVVRIX1JFR0lTVEVSX1NVQ0NFU1MsIFNFVF9NRVNTQUdFIH0gZnJvbSAiLi9hdXRoLmNvbnN0YW50cyI7CmltcG9ydCB7IFNUT1JBR0VfQUNDRVNTX1RPS0VOLCBTVE9SQUdFX1VTRVJfUFJPRklMRSB9IGZyb20gIi4uL2NvbnN0YW50cyI7CnZhciBzdGF0ZSA9IHsKICBtZXNzYWdlOiAiIiwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9BQ0NFU1NfVE9LRU4pIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9BQ0NFU1NfVE9LRU4pIHx8ICIiLAogIHByb2ZpbGU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpIHx8ICJ7fSIpCn07IC8vIGdldHRlcnMKCnZhciBnZXR0ZXJzID0gewogIGlzVXNlckxvZ2dlZEluOiBmdW5jdGlvbiBpc1VzZXJMb2dnZWRJbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuICE9ICIiOwogIH0sCiAgZ2V0UHJvZmlsZU5hbWU6IGZ1bmN0aW9uIGdldFByb2ZpbGVOYW1lKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZS5uYW1lOwogIH0sCiAgZ2V0VXNlclR5cGU6IGZ1bmN0aW9uIGdldFVzZXJUeXBlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZS50eXBlOwogIH0sCiAgZ2V0UHJvZmlsZTogZnVuY3Rpb24gZ2V0UHJvZmlsZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb2ZpbGU7CiAgfSwKICBnZXRNZXNzYWdlOiBmdW5jdGlvbiBnZXRNZXNzYWdlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubWVzc2FnZTsKICB9Cn07IC8vIGFjdGlvbnMKCnZhciBhY3Rpb25zID0gKF9hY3Rpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQVVUSF9MT0dJTiwgZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgYXV0aFNlcnZpY2UubG9naW4ocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBjb21taXQoQVVUSF9MT0dJTl9TVUNDRVNTLCB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiByZXMudG9rZW4sCiAgICAgICAgICAgICAgICAgIHByb2ZpbGU6IHJlcy5wcm9maWxlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbW1pdChTRVRfTUVTU0FHRSwgIkJlbS12aW5kbywgIi5jb25jYXQocmVzLnByb2ZpbGUubmFtZSwgIiEiKSk7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7CiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfUkVHSVNURVIsIGZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAvKiNfX1BVUkVfXyovCiAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZjMsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgYXV0aFNlcnZpY2UucmVnaXN0ZXIocGF5bG9hZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBjb21taXQoU0VUX01FU1NBR0UsICJPIHV0aWxpemFkb3IgIi5jb25jYXQocmVzLmJvZHkubmFtZSwgIiBmb2kgYWRpY2lvbmFkbyBjb20gc3VjZXNzbyEiKSk7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94MywgX3g0KSB7CiAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFVVEhfSU5GTywgZnVuY3Rpb24gKCkgewogIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhfcmVmNSkgewogICAgdmFyIGNvbW1pdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gY29tbWl0OwogICAgICAgICAgICBfY29udGV4dDMudDEgPSBTRVRfTUVTU0FHRTsKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gYXV0aFNlcnZpY2UuZ2V0SW5mbygiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SndheUk2SWpsamF6ZGhhMlJxYlRaM05XUmxNamxsTVRnd1pEbG1aV013TURBME5EazVOVGt4SWl3aWFXRjBJam94TlRjMU1UVXhNVGM0TENKbGVIQWlPakUxTnpVeE5qWXhOemdzSW1semN5STZJa1pEUVNKOS5YU2x0TVd0Z1NrcnBnOUpjVTE4WkpBNVM0WkhMdkZPQ2pHT1FJbzlPNVE0Iik7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBfY29udGV4dDMudDIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgKDAsIF9jb250ZXh0My50MCkoX2NvbnRleHQzLnQxLCBfY29udGV4dDMudDIpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgIHJldHVybiBfcmVmNi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSksIF9hY3Rpb25zKTsgLy8gbXV0YXRpb25zCgpleHBvcnQgdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR0lOX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSwgZGF0YSkgewogIHN0YXRlLnRva2VuID0gZGF0YS50b2tlbjsKICBsb2NhbFN0b3JhZ2UuU1RPUkFHRV9BQ0NFU1NfVE9LRU4gPSBkYXRhLnRva2VuOwogIHN0YXRlLnByb2ZpbGUgPSBkYXRhLnByb2ZpbGU7CiAgbG9jYWxTdG9yYWdlLlNUT1JBR0VfVVNFUl9QUk9GSUxFID0gSlNPTi5zdHJpbmdpZnkoZGF0YS5wcm9maWxlKTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBBVVRIX0xPR09VVF9TVUNDRVNTLCBmdW5jdGlvbiAoc3RhdGUpIHsKICBzdGF0ZS50b2tlbiA9ICIiOwogIHN0YXRlLnByb2ZpbGUgPSB7fTsKICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0FDQ0VTU19UT0tFTik7CiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9VU0VSX1BST0ZJTEUpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIEFVVEhfUkVHSVNURVJfU1VDQ0VTUywgZnVuY3Rpb24gKHN0YXRlLCBkYXRhKSB7CiAgc3RhdGUucmVnaXN0ZXIgPSBkYXRhOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9NRVNTQUdFLCBmdW5jdGlvbiAoc3RhdGUsIG1lc3NhZ2UpIHsKICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["C:/MEIW_PAW/MiniProj2/src/store/auth/auth.module.js"],"names":["authService","AUTH_LOGIN","AUTH_REGISTER","AUTH_INFO","AUTH_LOGIN_SUCCESS","AUTH_LOGOUT_SUCCESS","AUTH_REGISTER_SUCCESS","SET_MESSAGE","STORAGE_ACCESS_TOKEN","STORAGE_USER_PROFILE","state","message","token","localStorage","getItem","sessionStorage","profile","JSON","parse","getters","isUserLoggedIn","getProfileName","name","getUserType","type","getProfile","getMessage","actions","payload","commit","Promise","resolve","reject","login","then","res","catch","err","register","body","getInfo","mutations","data","stringify","removeItem","namespaced"],"mappings":"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","sourcesContent":["import { authService } from \"@/api/auth.service.js\";\nimport {\n  AUTH_LOGIN,\n  AUTH_REGISTER,\n  AUTH_INFO,\n  AUTH_LOGIN_SUCCESS,\n  AUTH_LOGOUT_SUCCESS,\n  AUTH_REGISTER_SUCCESS,\n  SET_MESSAGE\n} from \"./auth.constants\";\n\nimport { STORAGE_ACCESS_TOKEN, STORAGE_USER_PROFILE } from \"../constants\";\n\nconst state = {\n  message: \"\",\n  token:\n    localStorage.getItem(STORAGE_ACCESS_TOKEN) ||\n    sessionStorage.getItem(STORAGE_ACCESS_TOKEN) ||\n    \"\",\n  profile: JSON.parse(\n    localStorage.getItem(STORAGE_USER_PROFILE) ||\n      sessionStorage.getItem(STORAGE_USER_PROFILE) ||\n      \"{}\"\n  )\n};\n\n// getters\nconst getters = {\n  isUserLoggedIn: state => state.token != \"\",\n  getProfileName: state => state.profile.name,\n  getUserType: state => state.profile.type,\n  getProfile: state => state.profile,\n  getMessage: state => state.message\n};\n\n// actions\nconst actions = {\n  [AUTH_LOGIN]: async ({ commit }, payload) => {\n    return new Promise((resolve, reject) => {\n      authService\n      .login(payload)\n      .then(res => {\n          commit(AUTH_LOGIN_SUCCESS, {token: res.token, profile: res.profile});\n          commit(SET_MESSAGE, `Bem-vindo, ${res.profile.name}!`);\n          resolve(res);\n      })\n      .catch(err => reject(err))\n      \n    })\n  },\n\n  [AUTH_REGISTER]: async ({ commit }, payload) => {\n    return new Promise((resolve, reject) => {\n      authService.register(payload)\n      .then(res => {\n          commit(SET_MESSAGE, `O utilizador ${res.body.name} foi adicionado com sucesso!`);\n          resolve(res);\n      })\n      .catch(err => reject(err))\n    });\n  },\n\n  [AUTH_INFO]: async ({ commit }) => {\n    commit(\n      SET_MESSAGE,\n      await authService.getInfo(\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwayI6Ijljazdha2RqbTZ3NWRlMjllMTgwZDlmZWMwMDA0NDk5NTkxIiwiaWF0IjoxNTc1MTUxMTc4LCJleHAiOjE1NzUxNjYxNzgsImlzcyI6IkZDQSJ9.XSltMWtgSkrpg9JcU18ZJA5S4ZHLvFOCjGOQIo9O5Q4\"\n      )\n    );\n  }\n};\n\n// mutations\nexport const mutations = {\n  [AUTH_LOGIN_SUCCESS]: (state, data) => {\n    state.token = data.token;\n    localStorage.STORAGE_ACCESS_TOKEN = data.token;\n    state.profile = data.profile;\n    localStorage.STORAGE_USER_PROFILE = JSON.stringify(data.profile);\n  },\n\n  [AUTH_LOGOUT_SUCCESS]: state => {\n    state.token = \"\";\n    state.profile = {};\n    localStorage.removeItem(STORAGE_ACCESS_TOKEN);\n    localStorage.removeItem(STORAGE_USER_PROFILE);\n  },\n  [AUTH_REGISTER_SUCCESS]: (state, data) => {\n    state.register = data;\n  },\n  [SET_MESSAGE]: (state, message) => {\n    state.message = message;\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]}]}