{"remainingRequest":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\src\\api\\auth.service.js","dependencies":[{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\src\\api\\auth.service.js","mtime":1576832059000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcY2FtZmFcXERvd25sb2Fkc1xcOTc4OTcyNzIyOTE1NF9kb3dubG9hZF9kZXNlbnZvbHZpbWVudG9fYXZhbmNhZG9fcGFyYV9hX3dlYlxcOTc4OTcyNzIyOTE1NCBEb3dubG9hZCBEZXNlbnZvbHZpbWVudG8gQXZhblx4RTdhZG8gcGFyYSBhIFdlYlxcRnJvbnQtZW5kX0FuaW1hbGVjLW1hc3Rlclxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IEFQSV9VUkwgZnJvbSAiLi9jb25maWcuanMiOwpleHBvcnQgdmFyIGF1dGhTZXJ2aWNlID0gewogIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX2xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBheWxvYWQpIHsKICAgICAgdmFyIHJlc3BvbnNlLCBkYXRhLCB0b2tlbiwgcHJvZmlsZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiIi5jb25jYXQoQVBJX1VSTCwgIi9hdXRoIiksIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHRva2VuID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoIkF1dGhvcml6YXRpb24iKTsKICAgICAgICAgICAgICBwcm9maWxlID0gZGF0YS5ib2R5OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgIHByb2ZpbGU6IHByb2ZpbGUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoaGFuZGxlUmVzcG9uc2VzKHJlc3BvbnNlLnN0YXR1cykpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbG9naW4oX3gpIHsKICAgICAgcmV0dXJuIF9sb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBsb2dpbjsKICB9KCksCgogIC8qKgogICAqIFJlZ2lzdGVycyBhIG5ldyB1c2VyCiAgICogQHBhcmFtIHthc2QgYWRzfSBwYXlsb2FkCiAgICovCiAgcmVnaXN0ZXI6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVnaXN0ZXIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHBheWxvYWQpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KEFQSV9VUkwsICIvdXNlcnMiKSwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHRocm93IEVycm9yKGhhbmRsZVJlc3BvbnNlcyhyZXNwb25zZS5zdGF0dXMpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gcmVnaXN0ZXIoX3gyKSB7CiAgICAgIHJldHVybiBfcmVnaXN0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gcmVnaXN0ZXI7CiAgfSgpLAogIGdldEluZm86IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfZ2V0SW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModG9rZW4pIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goIiIuY29uY2F0KEFQSV9VUkwsICIvYXV0aCIpLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0b2tlbgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0My5zZW50KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBnZXRJbmZvKF94MykgewogICAgICByZXR1cm4gX2dldEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gZ2V0SW5mbzsKICB9KCkKfTsKCmZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlcyhjb2RlKSB7CiAgdmFyIG1lc3NhZ2UgPSAiIjsKCiAgc3dpdGNoIChjb2RlKSB7CiAgICBjYXNlIDQwMToKICAgICAgbWVzc2FnZSA9ICJOw6NvIGVzdMOhIGF1dG9yaXphZG8gYSBleGVjdXRhciBlc3RhIGHDp8OjbyEiOwogICAgICBicmVhazsKCiAgICBjYXNlIDQwMzoKICAgICAgbWVzc2FnZSA9ICJEYWRvcyBkYXMgY3JlZGVuY2lhaXMgZXJyYWRvcyEiOwogICAgICBicmVhazsKCiAgICBjYXNlIDQwNjoKICAgICAgbWVzc2FnZSA9ICJEYWRvcyBkbyB1dGlsaXphZG9yIGrDoSBleGlzdGVudGVzISI7CiAgICAgIGJyZWFrOwoKICAgIGRlZmF1bHQ6CiAgICAgIG1lc3NhZ2UgPSAiTWVuc2FnZW0gZGVzY29uaGVjaWRhIjsKICAgICAgYnJlYWs7CiAgfQoKICByZXR1cm4gbWVzc2FnZTsKfQoKZXhwb3J0IGRlZmF1bHQgYXV0aFNlcnZpY2U7"},{"version":3,"sources":["C:/Users/camfa/Downloads/9789727229154_download_desenvolvimento_avancado_para_a_web/9789727229154 Download Desenvolvimento Avançado para a Web/Front-end_Animalec-master/src/api/auth.service.js"],"names":["API_URL","authService","login","payload","fetch","method","headers","body","JSON","stringify","response","ok","json","data","token","get","profile","Error","handleResponses","status","register","getInfo","Authorization","code","message"],"mappings":";;;AAAA,OAAOA,OAAP;AAEA,OAAO,IAAMC,WAAW,GAAG;AACnBC,EAAAA,KADmB;AAAA;AAAA;AAAA,6CACbC,OADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEAC,KAAK,WAAIJ,OAAJ,YAAoB;AAC9CK,gBAAAA,MAAM,EAAE,MADsC;AAE9CC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAFqC;AAK9CC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf;AALwC,eAApB,CAFL;;AAAA;AAEjBO,cAAAA,QAFiB;;AAAA,mBASnBA,QAAQ,CAACC,EATU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAUFD,QAAQ,CAACE,IAAT,EAVE;;AAAA;AAUfC,cAAAA,IAVe;AAWfC,cAAAA,KAXe,GAWPJ,QAAQ,CAACJ,OAAT,CAAiBS,GAAjB,CAAqB,eAArB,CAXO;AAYfC,cAAAA,OAZe,GAYLH,IAAI,CAACN,IAZA;AAAA,+CAad;AAAEO,gBAAAA,KAAK,EAALA,KAAF;AAASE,gBAAAA,OAAO,EAAPA;AAAT,eAbc;;AAAA;AAAA,oBAefC,KAAK,CAACC,eAAe,CAACR,QAAQ,CAACS,MAAV,CAAhB,CAfU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAkBzB;;;;AAIMC,EAAAA,QAtBmB;AAAA;AAAA;AAAA,8CAsBVjB,OAtBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAuBAC,KAAK,WAAIJ,OAAJ,aAAqB;AAC/CK,gBAAAA,MAAM,EAAE,MADuC;AAE/CC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAFsC;AAK/CC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf;AALyC,eAArB,CAvBL;;AAAA;AAuBjBO,cAAAA,QAvBiB;;AAAA,mBA8BnBA,QAAQ,CAACC,EA9BU;AAAA;AAAA;AAAA;;AAAA;AAAA,qBA+BRD,QAAQ,CAACE,IAAT,EA/BQ;;AAAA;AAAA;;AAAA;AAAA,oBAiCfK,KAAK,CAACC,eAAe,CAACR,QAAQ,CAACS,MAAV,CAAhB,CAjCU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoCnBE,EAAAA,OApCmB;AAAA;AAAA;AAAA,8CAoCXP,KApCW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAqCAV,KAAK,WAAIJ,OAAJ,YAAoB;AAC9CK,gBAAAA,MAAM,EAAE,KADsC;AAE9CC,gBAAAA,OAAO,EAAE;AACP,kCAAgB,kBADT;AAEPgB,kBAAAA,aAAa,EAAER;AAFR;AAFqC,eAApB,CArCL;;AAAA;AAqCjBJ,cAAAA,QArCiB;AAAA;AAAA,qBA4CVA,QAAQ,CAACE,IAAT,EA5CU;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAApB;;AAgDP,SAASM,eAAT,CAAyBK,IAAzB,EAA+B;AAC7B,MAAIC,OAAO,GAAG,EAAd;;AACA,UAAQD,IAAR;AACE,SAAK,GAAL;AACEC,MAAAA,OAAO,GAAG,2CAAV;AACA;;AACF,SAAK,GAAL;AACEA,MAAAA,OAAO,GAAG,gCAAV;AACA;;AACF,SAAK,GAAL;AACEA,MAAAA,OAAO,GAAG,oCAAV;AACA;;AACF;AACEA,MAAAA,OAAO,GAAG,uBAAV;AACA;AAZJ;;AAcA,SAAOA,OAAP;AACD;;AAED,eAAevB,WAAf","sourcesContent":["import API_URL from \"./config.js\";\n\nexport const authService = {\n  async login(payload) {\n    const response = await fetch(`${API_URL}/auth`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (response.ok) {\n      const data = await response.json();\n      const token = response.headers.get(\"Authorization\");\n      const profile = data.body;\n      return { token, profile };\n    } else {\n      throw Error(handleResponses(response.status));\n    }\n  },\n  /**\n   * Registers a new user\n   * @param {asd ads} payload\n   */\n  async register(payload) {\n    const response = await fetch(`${API_URL}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (response.ok) {\n      return await response.json();\n    } else {\n      throw Error(handleResponses(response.status));\n    }\n  },\n  async getInfo(token) {\n    const response = await fetch(`${API_URL}/auth`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: token\n      }\n    });\n    return await response.json();\n  }\n};\n\nfunction handleResponses(code) {\n  let message = \"\";\n  switch (code) {\n    case 401:\n      message = \"Não está autorizado a executar esta ação!\";\n      break;\n    case 403:\n      message = \"Dados das credenciais errados!\";\n      break;\n    case 406:\n      message = \"Dados do utilizador já existentes!\";\n      break;\n    default:\n      message = \"Mensagem desconhecida\";\n      break;\n  }\n  return message;\n}\n\nexport default authService;\n"]}]}