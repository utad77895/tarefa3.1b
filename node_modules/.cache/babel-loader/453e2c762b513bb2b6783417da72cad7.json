{"remainingRequest":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js!C:\\MEIW_PAW\\MiniProj2\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\MEIW_PAW\\MiniProj2\\src\\store\\animals\\animal.module.js","dependencies":[{"path":"C:\\MEIW_PAW\\MiniProj2\\src\\store\\animals\\animal.module.js","mtime":1576832059000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzpcXE1FSVdfUEFXXFxNaW5pUHJvajJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9hY3Rpb25zLCBfbXV0YXRpb25zOwoKaW1wb3J0IGFuaW1hbFNlcnZpY2UgZnJvbSAiQC9hcGkvYW5pbWFsLnNlcnZpY2UiOwppbXBvcnQgeyAvLyBBY3Rpb25zCkZFVENIX0FOSU1BTFMsIEFERF9BTklNQUwsIEVESVRfQU5JTUFMLCBSRU1PVkVfQU5JTUFMIC8vIE11dGF0aW9ucwosIFNFVF9BTklNQUxTLCBTRVRfTUVTU0FHRSwgVVBEQVRFX0xJS0VTIH0gZnJvbSAiLi9hbmltYWwuY29uc3RhbnRzIjsKdmFyIHN0YXRlID0gewogIGFuaW1hbHM6IFtdCn07CnZhciBnZXR0ZXJzID0gewogIGdldEFuaW1hbHM6IGZ1bmN0aW9uIGdldEFuaW1hbHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hbmltYWxzOwogIH0sCiAgZ2V0QW5pbWFsc0J5SWQ6IGZ1bmN0aW9uIGdldEFuaW1hbHNCeUlkKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hbmltYWxzLmZpbmQoZnVuY3Rpb24gKGFuaW1hbCkgewogICAgICAgIHJldHVybiBhbmltYWwuX2lkID09PSBpZDsKICAgICAgfSk7CiAgICB9OwogIH0sCiAgZ2V0TWVzc2FnZTogZnVuY3Rpb24gZ2V0TWVzc2FnZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLm1lc3NhZ2U7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEZFVENIX0FOSU1BTFMsIGZ1bmN0aW9uIChfcmVmKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICByb290U3RhdGUgPSBfcmVmLnJvb3RTdGF0ZTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYW5pbWFsU2VydmljZS5nZXRBbmltYWxzKHJvb3RTdGF0ZS5hdXRoLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29tbWl0KFNFVF9BTklNQUxTLCByZXMuYm9keSk7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29tbWl0KFNFVF9NRVNTQUdFLCBlcnIubWVzc2FnZSk7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEFERF9BTklNQUwsIGZ1bmN0aW9uIChfcmVmMiwgcGF5bG9hZCkgewogIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgIHJvb3RTdGF0ZSA9IF9yZWYyLnJvb3RTdGF0ZTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYW5pbWFsU2VydmljZS5hZGRBbmltYWwocm9vdFN0YXRlLmF1dGgudG9rZW4sIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb21taXQoU0VUX01FU1NBR0UsICJPIGFuaW1hbCAiLmNvbmNhdChyZXMuYm9keS5uYW1lLCAiIGZvaSBhZGljaW9uYWRvIGNvbSBzdWNlc3NvISIpKTsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBjb21taXQoU0VUX01FU1NBR0UsIGVyci5tZXNzYWdlKTsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgRURJVF9BTklNQUwsIGZ1bmN0aW9uIChfcmVmMywgcGF5bG9hZCkgewogIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgIHJvb3RTdGF0ZSA9IF9yZWYzLnJvb3RTdGF0ZTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYW5pbWFsU2VydmljZS5lZGl0QW5pbWFsKHJvb3RTdGF0ZS5hdXRoLnRva2VuLCBwYXlsb2FkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29tbWl0KFNFVF9NRVNTQUdFLCAiTyBhbmltYWwgIi5jb25jYXQocmVzLmJvZHkubmFtZSwgIiBmb2kgYXR1YWxpemFkbyBjb20gc3VjZXNzbyEiKSk7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29tbWl0KFNFVF9NRVNTQUdFLCBlcnIpOwogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBSRU1PVkVfQU5JTUFMLCBmdW5jdGlvbiAoX3JlZjQsIGlkKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgcm9vdFN0YXRlID0gX3JlZjQucm9vdFN0YXRlOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBhbmltYWxTZXJ2aWNlLnJlbW92ZUFuaW1hbChyb290U3RhdGUuYXV0aC50b2tlbiwgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb21taXQoU0VUX01FU1NBR0UsICJPIGFuaW1hbCBmb2kgcmVtb3ZpZG8gY29tIHN1Y2Vzc28hIik7CiAgICAgIHJlc29sdmUocmVzKTsKICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29tbWl0KFNFVF9NRVNTQUdFLCBlcnIubWVzc2FnZSk7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn0pLCBfYWN0aW9ucyk7CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9BTklNQUxTLCBmdW5jdGlvbiAoc3RhdGUsIGFuaW1hbHMpIHsKICBzdGF0ZS5hbmltYWxzID0gYW5pbWFsczsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfTUVTU0FHRSwgZnVuY3Rpb24gKHN0YXRlLCBtZXNzYWdlKSB7CiAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2U7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgVVBEQVRFX0xJS0VTLCBmdW5jdGlvbiAoc3RhdGUsIHBheWxvYWQpIHsKICBzdGF0ZS5hbmltYWxzLmZvckVhY2goZnVuY3Rpb24gKGFuaW1hbCkgewogICAgaWYgKGFuaW1hbC5faWQgPT09IHBheWxvYWQuYW5pbWFsSWQpIHsKICAgICAgYW5pbWFsLmV2YWx1YXRpb24ucHVzaChwYXlsb2FkLnVzZXJJZCk7CiAgICB9CiAgfSk7Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["C:/MEIW_PAW/MiniProj2/src/store/animals/animal.module.js"],"names":["animalService","FETCH_ANIMALS","ADD_ANIMAL","EDIT_ANIMAL","REMOVE_ANIMAL","SET_ANIMALS","SET_MESSAGE","UPDATE_LIKES","state","animals","getters","getAnimals","getAnimalsById","id","find","animal","_id","getMessage","message","actions","commit","rootState","Promise","resolve","reject","auth","token","then","res","body","err","payload","addAnimal","name","editAnimal","removeAnimal","mutations","forEach","animalId","evaluation","push","userId","namespaced"],"mappings":"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","sourcesContent":["import animalService from \"@/api/animal.service\";\nimport { \n  // Actions\n  FETCH_ANIMALS, \n  ADD_ANIMAL, \n  EDIT_ANIMAL, \n  REMOVE_ANIMAL, \n  // Mutations\n  SET_ANIMALS, \n  SET_MESSAGE,\n  UPDATE_LIKES \n} from \"./animal.constants\";\n\nconst state = {\n  animals: []\n};\n\nconst getters = {\n  getAnimals: state => state.animals,\n  getAnimalsById: state => id => state.animals.find(animal => animal._id === id),\n  getMessage: state => state.message,\n  \n};\n\nconst actions = {\n  [FETCH_ANIMALS]: ({ commit, rootState }) => {\n    return new Promise((resolve, reject) => {\n      animalService.getAnimals(rootState.auth.token)\n        .then(\n          res => {\n            commit(SET_ANIMALS, res.body);\n            resolve(res)\n          },\n          err => {\n            commit(SET_MESSAGE, err.message)\n            reject(err)\n          });\n    })\n  },\n  [ADD_ANIMAL]: ({ commit, rootState }, payload) => {\n    return new Promise((resolve, reject) => {\n      animalService.addAnimal(rootState.auth.token, payload)\n        .then(\n          res => {\n            commit(SET_MESSAGE, `O animal ${res.body.name} foi adicionado com sucesso!`);\n            resolve(res)\n          }, err => {\n            commit(SET_MESSAGE, err.message)\n            reject(err)\n          });\n    });\n  },\n  [EDIT_ANIMAL]: ({ commit, rootState }, payload) => {\n    return new Promise((resolve, reject) => {\n      animalService.editAnimal(rootState.auth.token, payload)\n        .then(\n          res => {\n            commit(SET_MESSAGE, `O animal ${res.body.name} foi atualizado com sucesso!`);\n            resolve(res)\n          }, err => {\n            commit(SET_MESSAGE, err)\n            reject(err)\n          });\n    });\n  },\n  [REMOVE_ANIMAL]: ({ commit, rootState }, id) => {\n    return new Promise((resolve, reject) => {\n      animalService.removeAnimal(rootState.auth.token, id)\n        .then(res => {\n          commit(SET_MESSAGE, `O animal foi removido com sucesso!`);\n          resolve(res)\n        }, err => {\n          commit(SET_MESSAGE, err.message)\n          reject(err)\n        });\n    });\n  }\n};\n\nexport const mutations = {\n  [SET_ANIMALS]: (state, animals) => {\n    state.animals = animals;\n  },\n  [SET_MESSAGE]: (state, message) => {\n    state.message = message;\n  },\n  [UPDATE_LIKES]: (state, payload) => {\n    state.animals.forEach(animal => {\n      if(animal._id === payload.animalId) {\n        animal.evaluation.push(payload.userId)\n      }\n    });\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}"]}]}