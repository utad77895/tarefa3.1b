{"remainingRequest":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\MEIW_PAW\\MiniProj2\\src\\components\\Animal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\MEIW_PAW\\MiniProj2\\src\\components\\Animal.vue","mtime":1576832059000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEVESVRfQU5JTUFMIH0gZnJvbSAiQC9zdG9yZS9hbmltYWxzL2FuaW1hbC5jb25zdGFudHMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFuaW1hbCIsCiAgcHJvcHM6IFsiYW5pbWFsIl0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBjb2xvcjogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJhdXRoIiwgWyJnZXRQcm9maWxlIl0pLAogICAgZXZhbHVhdGUoKSB7CiAgICAgIGlmICghdGhpcy5hbmltYWwuZXZhbHVhdGlvbi5pbmNsdWRlcyh0aGlzLmdldFByb2ZpbGUoKS5faWQpKSB7CiAgICAgICAgdGhpcy5hbmltYWwuZXZhbHVhdGlvbi5wdXNoKHRoaXMuZ2V0UHJvZmlsZSgpLl9pZCk7CiAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYW5pbWFsLmV2YWx1YXRpb24gPSB0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLmZpbHRlcigKICAgICAgICAgIHVzZXIgPT4gdXNlciAhPT0gdGhpcy5nZXRQcm9maWxlKCkuX2lkCiAgICAgICAgKTsKICAgICAgICB0aGlzLmNvbG9yID0gImJsYWNrIjsKICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgYW5pbWFsLyR7RURJVF9BTklNQUx9YCwgdGhpcy5hbmltYWwpLnRoZW4oCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGhpcy4kYWxlcnQoCiAgICAgICAgICAgIGBPYnJpZ2FkbyBwb3IgZ29zdGFyZXMgZG8gJHt0aGlzLmFuaW1hbC5uYW1lfSFgLAogICAgICAgICAgICAiR29zdG8iLAogICAgICAgICAgICAic3VjY2VzcyIKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBlcnIgPT4gewogICAgICAgICAgdGhpcy4kYWxlcnQoYCR7ZXJyLm1lc3NhZ2V9YCwgIkVycm8iLCAiZXJyb3IiKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLmFuaW1hbC5ldmFsdWF0aW9uLmluY2x1ZGVzKHRoaXMuZ2V0UHJvZmlsZSgpLl9pZCkpIHsKICAgICAgdGhpcy5jb2xvciA9ICJibGFjayI7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbG9yID0gInJlZCI7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Animal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Animal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-col cols=\"4\">\n    <b-card\n      :title=\"animal.name\"\n      :img-src=\"animal.links[0].url\"\n      img-alt=\"Image\"\n      img-top\n      tag=\"article\"\n      style=\"max-width: 20rem;\"\n      class=\"mb-5\"\n    >\n      <b-card-text>\n        <kbd>{{ animal.group }}</kbd>&nbsp;\n        <kbd style=\"background-color: red\">n√≠vel {{ animal.level }}</kbd>\n      </b-card-text>\n      <b-card-text>{{animal.description}}</b-card-text>\n      <b-card-text align=\"left\">\n        <i class=\"fas fa-star fa-lg\" :style=\"{color}\" @click=\"evaluate()\"></i>\n        {{animal.evaluation.length}}\n        <i class=\"fas fa-comment fa-lg ml-2\"></i>\n        {{animal.comments.length}}\n      </b-card-text>\n\n      <router-link\n        :to=\"{name: 'animal', params:{animalId: animal._id}}\"\n        tag=\"b-button\"\n        variant=\"outline-success\"\n        align=\"center\"\n        class=\"mr-2\"\n      >\n        <i class=\"fas fa-search\"></i> ver animal\n      </router-link>\n      <b-button variant=\"info\" :href=\"'https://www.facebook.com/sharer/sharer.php?u=' + animal.links[0].url\" target=\"_blank\">\n        <i class=\"fab fa-facebook\"></i> Partilhar\n      </b-button>\n\n    </b-card>\n  </b-col>\n</template>\n\n<script>\nimport { EDIT_ANIMAL } from \"@/store/animals/animal.constants\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Animal\",\n  props: [\"animal\"],\n  data: function() {\n    return {\n      color: \"\"\n    };\n  },\n  methods: {\n    ...mapGetters(\"auth\", [\"getProfile\"]),\n    evaluate() {\n      if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n        this.animal.evaluation.push(this.getProfile()._id);\n        this.color = \"red\";\n      } else {\n        this.animal.evaluation = this.animal.evaluation.filter(\n          user => user !== this.getProfile()._id\n        );\n        this.color = \"black\";\n      }\n      this.$store.dispatch(`animal/${EDIT_ANIMAL}`, this.animal).then(\n        () => {\n          this.$alert(\n            `Obrigado por gostares do ${this.animal.name}!`,\n            \"Gosto\",\n            \"success\"\n          );\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        }\n      );\n    }\n  },\n  created() {\n    if (!this.animal.evaluation.includes(this.getProfile()._id)) {\n      this.color = \"black\";\n    } else {\n      this.color = \"red\";\n    }\n  }\n};\n</script>\n"]}]}