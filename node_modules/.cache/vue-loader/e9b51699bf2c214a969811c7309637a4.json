{"remainingRequest":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\src\\views\\questions\\ListQuestions.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\src\\views\\questions\\ListQuestions.vue","mtime":1576832059000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\camfa\\Downloads\\9789727229154_download_desenvolvimento_avancado_para_a_web\\9789727229154 Download Desenvolvimento Avançado para a Web\\Front-end_Animalec-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgRkVUQ0hfUVVFU1RJT05TLAogIFJFTU9WRV9RVUVTVElPTgp9IGZyb20gIkAvc3RvcmUvcXVlc3Rpb25zL3F1ZXN0aW9uLmNvbnN0YW50cyI7CmltcG9ydCBIZWFkZXJQYWdlIGZyb20gIkAvY29tcG9uZW50cy9IZWFkZXJQYWdlLnZ1ZSIKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwoKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGlzdFF1ZXN0aW9ucyIsCiAgIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlclBhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlc3Rpb25zOiBbXSwKICAgICAgc29ydFR5cGU6IDEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycygicXVlc3Rpb24iLCBbImdldFF1ZXN0aW9ucyIsImdldE1lc3NhZ2UiXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoUXVlc3Rpb25zKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgcXVlc3Rpb24vJHtGRVRDSF9RVUVTVElPTlN9YCkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLnF1ZXN0aW9ucyA9IHRoaXMuZ2V0UXVlc3Rpb25zOwogICAgICAgIH0sCiAgICAgICAgZXJyID0+IHsKICAgICAgICAgIHRoaXMuJGFsZXJ0KGAke2Vyci5tZXNzYWdlfWAsICJFcnJvIiwgImVycm9yIik7CiAgICAgICAgfSk7CiAgICB9LAogICAgc29ydCgpIHsKICAgICAgdGhpcy5xdWVzdGlvbnMuc29ydCh0aGlzLmNvbXBhcmVOYW1lcykKICAgICAgdGhpcy5zb3J0VHlwZSAqPSAtMSAgICAgIAogICAgfSwKICAgIGNvbXBhcmVOYW1lcyh1MSx1MikgewogICAgICBpZih1MS5xdWVzdGlvbiA+IHUyLnF1ZXN0aW9uKSByZXR1cm4gMSAqIHRoaXMuc29ydFR5cGUKICAgICAgZWxzZSBpZih1MS5xdWVzdGlvbiA8IHUyLnF1ZXN0aW9uKSByZXR1cm4gLTEgKiB0aGlzLnNvcnRUeXBlCiAgICAgIGVsc2UgcmV0dXJuIDAKICAgIH0sCiAgICB2aWV3UXVlc3Rpb24oaWQpIHsKICAgICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLnF1ZXN0aW9ucy5maW5kKHF1ZXN0aW9uID0+IHF1ZXN0aW9uLl9pZCA9PT0gaWQpOwogICAgICB0aGlzLiRmaXJlKHsKICAgICAgICB0aXRsZTogcXVlc3Rpb24ucXVlc3Rpb24sCiAgICAgICAgaHRtbDogdGhpcy5nZW5lcmF0ZVRlbXBsYXRlKHF1ZXN0aW9uKQogICAgICAgIC8qIGltYWdlVXJsOiB1c2VyLm5hbWUsCiAgICAgICAgaW1hZ2VXaWR0aDogNDAwLAogICAgICAgIGltYWdlSGVpZ2h0OiAyMDAsCiAgICAgICAgaW1hZ2VBbHQ6ICJJbWFnZW0gZGVzY29uaGVjaWRhIiAqLwogICAgICB9KTsKICAgIH0sCiAgICBnZW5lcmF0ZVRlbXBsYXRlKHF1ZXN0aW9uKSB7CiAgICAgIGxldCByZXNwb25zZSA9IGAKICAgICAgICAgIDxwPjxiPkRlc2NyacOnw6NvOjwvYj4gJHtxdWVzdGlvbi5kZXNjcmlwdGlvbn08L3A+CiAgICAgICAgICA8cD48Yj5UaXBvOjwvYj4gJHtxdWVzdGlvbi50eXBlfTwvcD4KICAgICAgICAgIDxwPjxiPkxpc3RhIGRlIHJlc3Bvc3RhcyBwb3Nzw612ZWlzIChjb3JyZXRhIGEgdmVyZGUpOjwvYj48L3A+YCAgICAgICAgICAKICAgICAgICAgIGZvciAoIGxldCBpPTA7IGk8cXVlc3Rpb24uYW5zd2Vycy5sZW5ndGg7aSsrKSB7CiAgICAgICAgICAgIGlmKHF1ZXN0aW9uLmFuc3dlcnNbaV0uY29ycmVjdCkKICAgICAgICAgICAgcmVzcG9uc2UgKz0gYDxwIGNsYXNzPSJncmVlbiJ9PiR7aSsxfS4gJHtxdWVzdGlvbi5hbnN3ZXJzW2ldLnRpdGxlfTwvcD5gCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgcmVzcG9uc2UgKz0gYDxwIGNsYXNzPSJyZWQifT4ke2krMX0uICR7cXVlc3Rpb24uYW5zd2Vyc1tpXS50aXRsZX08L3A+YAogICAgICAgICAgICAgIAogICAgICAgICAgfQogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9LAogICAgcmVtb3ZlUXVlc3Rpb24oaWQpIHsKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAiU2Ugc2ltLCBjbGlxdWUgZW0gT0siLAogICAgICAgICJEZXNlamEgbWVzbW8gcmVtb3ZlciBhIHF1ZXN0w6NvPyIsCiAgICAgICAgIndhcm5pbmciLAogICAgICAgIHsgY29uZmlybUJ1dHRvblRleHQ6ICJPSyIsIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWxhciIgfQogICAgICApLnRoZW4oCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYHF1ZXN0aW9uLyR7UkVNT1ZFX1FVRVNUSU9OfWAsIGlkKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kYWxlcnQoCiAgICAgICAgICAgICAgdGhpcy5nZXRNZXNzYWdlLAogICAgICAgICAgICAgICJRdWVzdMOjbyByZW1vdmlkYSEiLAogICAgICAgICAgICAgICJzdWNjZXNzIgogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmZldGNoUXVlc3Rpb25zKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgICgpID0+IHsKICAgICAgICAgIHRoaXMuJGFsZXJ0KCJSZW1vw6fDo28gY2FuY2VsYWRhISIsICJJbmZvcm1hw6fDo28iLCAiaW5mbyIpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoUXVlc3Rpb25zKCk7CiAgfQp9Owo="},{"version":3,"sources":["ListQuestions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListQuestions.vue","sourceRoot":"src/views/questions","sourcesContent":["<template>\n  <section class=\"page-section\">\n    <b-container>\n      <HeaderPage title=\"Gestão de Questões\"/>\n      <!--MENU DE TOPO-->\n      <b-row class=\"mb-4\">\n        <b-col cols=\"1\"></b-col>\n        <b-col>\n          <router-link\n            :to=\"{name:'addQuestion'}\"\n            tag=\"button\"\n            class=\"btn btn-outline-success mr-2 mt-2\"\n          ><i class=\"fas fa-plus-square\"></i> ADICIONAR QUESTÃO</router-link>\n          <router-link\n            :to=\"{name:'admin'}\"\n            tag=\"button\"\n            class=\"btn btn-outline-info mr-2 mt-2\"\n          ><i class=\"fas fa-bars\"></i> MENU PRINCIPAL</router-link>\n        </b-col>\n        <b-col cols=\"1\"></b-col>\n      </b-row>\n      \n      <!--TABLE-->\n      <b-row>\n        <b-col cols=\"1\"></b-col>\n        <b-col>\n          <table class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">\n                  QUESTÃO\n                  <i class=\"fas fa-arrow-up\" v-if=\"sortType===1\" @click=\"sort()\"></i>\n                  <i class=\"fas fa-arrow-down\" v-else  @click=\"sort()\"></i>                \n                  </th>\n                <th scope=\"col\">NÍVEL</th>\n                <th scope=\"col\">AÇÕES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"question of questions\" :key=\"question._id\">\n                <td  class=\"pt-4\">{{question.question}}</td>\n                <td class=\"pt-4\">{{question.level}}</td>\n                <td>\n                  <router-link\n                    :to=\"{name:'editQuestion', params:{questionId: question._id}}\"\n                    tag=\"button\"\n                    class=\"btn btn-outline-success mr-2\"\n                  ><i class=\"fas fa-edit\"></i> EDITAR</router-link>\n                  <button\n                    @click=\"viewQuestion(question._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-warning mr-2\"\n                  ><i class=\"fas fa-search\"></i> VER</button>\n                  <button\n                    @click=\"removeQuestion(question._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-danger mr-2\"\n                  ><i class=\"fas fa-trash-alt\"></i> REMOVER</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </b-col>\n          <b-col cols=\"1\"></b-col>\n      </b-row>\n    </b-container>\n  </section>\n</template>\n\n<script>\nimport {\n  FETCH_QUESTIONS,\n  REMOVE_QUESTION\n} from \"@/store/questions/question.constants\";\nimport HeaderPage from \"@/components/HeaderPage.vue\"\nimport { mapGetters } from \"vuex\";\n\n\nexport default {\n  name: \"ListQuestions\",\n   components: {\n    HeaderPage\n  },\n  data: function() {\n    return {\n      questions: [],\n      sortType: 1\n    };\n  },\n  computed: {\n    ...mapGetters(\"question\", [\"getQuestions\",\"getMessage\"])\n  },\n  methods: {\n    fetchQuestions() {\n      this.$store.dispatch(`question/${FETCH_QUESTIONS}`).then(\n        () => {\n          this.questions = this.getQuestions;\n        },\n        err => {\n          this.$alert(`${err.message}`, \"Erro\", \"error\");\n        });\n    },\n    sort() {\n      this.questions.sort(this.compareNames)\n      this.sortType *= -1      \n    },\n    compareNames(u1,u2) {\n      if(u1.question > u2.question) return 1 * this.sortType\n      else if(u1.question < u2.question) return -1 * this.sortType\n      else return 0\n    },\n    viewQuestion(id) {\n      const question = this.questions.find(question => question._id === id);\n      this.$fire({\n        title: question.question,\n        html: this.generateTemplate(question)\n        /* imageUrl: user.name,\n        imageWidth: 400,\n        imageHeight: 200,\n        imageAlt: \"Imagem desconhecida\" */\n      });\n    },\n    generateTemplate(question) {\n      let response = `\n          <p><b>Descrição:</b> ${question.description}</p>\n          <p><b>Tipo:</b> ${question.type}</p>\n          <p><b>Lista de respostas possíveis (correta a verde):</b></p>`          \n          for ( let i=0; i<question.answers.length;i++) {\n            if(question.answers[i].correct)\n            response += `<p class=\"green\"}>${i+1}. ${question.answers[i].title}</p>`\n            else\n            response += `<p class=\"red\"}>${i+1}. ${question.answers[i].title}</p>`\n              \n          }\n      return response;\n    },\n    removeQuestion(id) {\n      this.$confirm(\n        \"Se sim, clique em OK\",\n        \"Deseja mesmo remover a questão?\",\n        \"warning\",\n        { confirmButtonText: \"OK\", cancelButtonText: \"Cancelar\" }\n      ).then(\n        () => {\n          this.$store.dispatch(`question/${REMOVE_QUESTION}`, id).then(() => {\n            this.$alert(\n              this.getMessage,\n              \"Questão removida!\",\n              \"success\"\n            );\n            this.fetchQuestions();\n          });\n        },\n        () => {\n          this.$alert(\"Remoção cancelada!\", \"Informação\", \"info\");\n        }\n      );\n    }\n  },\n  created() {\n    this.fetchQuestions();\n  }\n};\n</script>\n<style>\n.green {\n  color: green\n}\n\n.red {\n  color: red\n}\n</style>"]}]}