{"remainingRequest":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\MEIW_PAW\\MiniProj2\\src\\views\\quizzes\\ListQuizzes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\MEIW_PAW\\MiniProj2\\src\\views\\quizzes\\ListQuizzes.vue","mtime":1576832059000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\MEIW_PAW\\MiniProj2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEZFVENIX1FVSVpaRVMsIFJFTU9WRV9RVUlaIH0gZnJvbSAiQC9zdG9yZS9xdWl6emVzL3F1aXouY29uc3RhbnRzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgSGVhZGVyUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvSGVhZGVyUGFnZS52dWUiCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGlzdFF1aXp6ZXMiLAogICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXJQYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHF1aXp6ZXM6IFtdLAogICAgICBzb3J0VHlwZTogMQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJxdWl6IiwgWyJnZXRRdWl6emVzIiwiZ2V0TWVzc2FnZSJdKQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hRdWl6emVzKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgcXVpei8ke0ZFVENIX1FVSVpaRVN9YCkudGhlbiggCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGhpcy5xdWl6emVzID0gdGhpcy5nZXRRdWl6emVzOwogICAgICAgIH0sIGVyciA9PiB7CiAgICAgICAgICB0aGlzLiRhbGVydChgJHtlcnIubWVzc2FnZX1gLCAnRXJybycsICdlcnJvcicpOwogICAgICAgIH0pOwogICAgfSwKICAgIHNvcnQoKSB7CiAgICAgIHRoaXMucXVpenplcy5zb3J0KHRoaXMuY29tcGFyZU5hbWVzKQogICAgICB0aGlzLnNvcnRUeXBlICo9IC0xICAgICAgCiAgICB9LAogICAgY29tcGFyZU5hbWVzKHExLHEyKSB7CiAgICAgIGlmKHExLm5hbWUgPiBxMi5uYW1lKSByZXR1cm4gMSAqIHRoaXMuc29ydFR5cGUKICAgICAgZWxzZSBpZihxMS5uYW1lIDwgcTIubmFtZSkgcmV0dXJuIC0xICogdGhpcy5zb3J0VHlwZQogICAgICBlbHNlIHJldHVybiAwCiAgICB9LAogICAgdmlld1F1aXooaWQpIHsKICAgICAgY29uc3QgcXVpeiA9IHRoaXMucXVpenplcy5maW5kKHF1aXogPT4gcXVpei5faWQgPT09IGlkKTsKICAgICAgdGhpcy4kZmlyZSh7CiAgICAgICAgdGl0bGU6IHF1aXoubmFtZSwKICAgICAgICBodG1sOiB0aGlzLmdlbmVyYXRlVGVtcGxhdGUocXVpeikKICAgICAgICAvKiBpbWFnZVVybDogdXNlci5uYW1lLAogICAgICAgIGltYWdlV2lkdGg6IDQwMCwKICAgICAgICBpbWFnZUhlaWdodDogMjAwLAogICAgICAgIGltYWdlQWx0OiAiSW1hZ2VtIGRlc2NvbmhlY2lkYSIgKi8KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVUZW1wbGF0ZShxdWl6KSB7CiAgICAgIGxldCByZXNwb25zZSA9IGAKICAgICAgICAgIDxwPjxiPk7DrXZlbDwvYj4gJHtxdWl6LmxldmVsfTxicj4oJHtxdWl6LnBvaW50c30gcG9udG9zKTwvcD4KICAgICAgICAgIDxwPjxiPkxpc3RhIGRlIHF1ZXN0w7Vlczo8L2I+PC9wPiAgICAgICAgICAKICAgICAgYCAgICAgICAgICAKICAgICAgZm9yIChjb25zdCBxdWVzdGlvbiBvZiBxdWl6LnF1ZXN0aW9ucykgewogICAgICAgcmVzcG9uc2UgKz0gYDxwPiR7cXVlc3Rpb24ucXVlc3Rpb259PC9wPmAKICAgICAgfQogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9LAogICAgcmVtb3ZlUXVpeihpZCkgewogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICJTZSBzaW0sIGNsaXF1ZSBlbSBPSyIsCiAgICAgICAgIkRlc2VqYSBtZXNtbyByZW1vdmVyIGEgcXVlc3TDo28/IiwKICAgICAgICAid2FybmluZyIsCiAgICAgICAgeyBjb25maXJtQnV0dG9uVGV4dDogIk9LIiwgY2FuY2VsQnV0dG9uVGV4dDogIkNhbmNlbGFyIiB9CiAgICAgICkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChgcXVpei8ke1JFTU9WRV9RVUlafWAsIGlkKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kYWxlcnQoCiAgICAgICAgICAgICAgdGhpcy5nZXRNZXNzYWdlLAogICAgICAgICAgICAgICJRdWVzdMOjbyByZW1vdmlkYSEiLAogICAgICAgICAgICAgICJzdWNjZXNzIgogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmZldGNoUXVpenplcygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRhbGVydCgiUmVtb8Onw6NvIGNhbmNlbGFkYSEiLCAiSW5mb3JtYcOnw6NvIiwgImluZm8iKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFF1aXp6ZXMoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ListQuizzes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListQuizzes.vue","sourceRoot":"src/views/quizzes","sourcesContent":["<template>\n  <section class=\"page-section\">\n    <b-container>\n      <HeaderPage title=\"Gestão de Quizzes\" />\n      <!--MENU DE TOPO-->\n      <b-row class=\"mb-4\">\n        <b-col cols=\"1\"></b-col>\n        <b-col>\n          <router-link\n            :to=\"{name:'addQuiz'}\"\n            tag=\"button\"\n            class=\"btn btn-outline-success mr-2 mt-2\"\n          >\n            <i class=\"fas fa-plus-square\"></i> ADICIONAR QUIZ\n          </router-link>\n          <router-link :to=\"{name:'admin'}\" tag=\"button\" class=\"btn btn-outline-info mr-2 mt-2\">\n            <i class=\"fas fa-bars\"></i> MENU PRINCIPAL\n          </router-link>\n        </b-col>\n        <b-col cols=\"1\"></b-col>\n      </b-row>\n      <!--TABLE-->\n      <b-row>\n        <b-col cols=\"1\"></b-col>\n        <b-col>\n          <table class=\"table table-striped\">\n            <thead class=\"thead-dark\">\n              <tr>\n                <th scope=\"col\">\n                  NOME\n                  <i class=\"fas fa-arrow-up\" v-if=\"sortType===1\" @click=\"sort()\"></i>\n                  <i class=\"fas fa-arrow-down\" v-else @click=\"sort()\"></i>\n                </th>\n                <th scope=\"col\">NÍVEL</th>\n                <th scope=\"col\">PONTOS</th>\n                <th scope=\"col\">AÇÕES</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"quiz of quizzes\" :key=\"quiz._id\">\n                <td class=\"pt-4\">{{quiz.name}}</td>\n                <td class=\"pt-4\">{{quiz.level}}</td>\n                <td class=\"pt-4\">{{quiz.points}}</td>\n                <td>\n                  <router-link\n                    :to=\"{name:'editQuiz', params:{quizId: quiz._id}}\"\n                    tag=\"button\"\n                    class=\"btn btn-outline-success mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-edit\"></i> EDITAR\n                  </router-link>\n                  <button\n                    @click=\"viewQuiz(quiz._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-success mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-search\"></i> VER\n                  </button>\n                  <button\n                    @click=\"removeQuiz(quiz._id)\"\n                    type=\"button\"\n                    class=\"btn btn-outline-danger mr-2 mt-2\"\n                  >\n                    <i class=\"fas fa-trash-alt\"></i> REMOVER\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </b-col>\n        <b-col cols=\"1\"></b-col>\n      </b-row>\n    </b-container>\n  </section>\n</template>\n\n<script>\nimport { FETCH_QUIZZES, REMOVE_QUIZ } from \"@/store/quizzes/quiz.constants\";\nimport { mapGetters } from \"vuex\";\nimport HeaderPage from \"@/components/HeaderPage.vue\"\nexport default {\n  name: \"ListQuizzes\",\n   components: {\n    HeaderPage\n  },\n  data: function() {\n    return {\n      quizzes: [],\n      sortType: 1\n    };\n  },\n  computed: {\n    ...mapGetters(\"quiz\", [\"getQuizzes\",\"getMessage\"])\n  },\n  methods: {\n    fetchQuizzes() {\n      this.$store.dispatch(`quiz/${FETCH_QUIZZES}`).then( \n        () => {\n          this.quizzes = this.getQuizzes;\n        }, err => {\n          this.$alert(`${err.message}`, 'Erro', 'error');\n        });\n    },\n    sort() {\n      this.quizzes.sort(this.compareNames)\n      this.sortType *= -1      \n    },\n    compareNames(q1,q2) {\n      if(q1.name > q2.name) return 1 * this.sortType\n      else if(q1.name < q2.name) return -1 * this.sortType\n      else return 0\n    },\n    viewQuiz(id) {\n      const quiz = this.quizzes.find(quiz => quiz._id === id);\n      this.$fire({\n        title: quiz.name,\n        html: this.generateTemplate(quiz)\n        /* imageUrl: user.name,\n        imageWidth: 400,\n        imageHeight: 200,\n        imageAlt: \"Imagem desconhecida\" */\n      });\n    },\n    generateTemplate(quiz) {\n      let response = `\n          <p><b>Nível</b> ${quiz.level}<br>(${quiz.points} pontos)</p>\n          <p><b>Lista de questões:</b></p>          \n      `          \n      for (const question of quiz.questions) {\n       response += `<p>${question.question}</p>`\n      }\n      return response;\n    },\n    removeQuiz(id) {\n      this.$confirm(\n        \"Se sim, clique em OK\",\n        \"Deseja mesmo remover a questão?\",\n        \"warning\",\n        { confirmButtonText: \"OK\", cancelButtonText: \"Cancelar\" }\n      ).then(\n        () => {\n          this.$store.dispatch(`quiz/${REMOVE_QUIZ}`, id).then(() => {\n            this.$alert(\n              this.getMessage,\n              \"Questão removida!\",\n              \"success\"\n            );\n            this.fetchQuizzes();\n          });\n        },\n        () => {\n          this.$alert(\"Remoção cancelada!\", \"Informação\", \"info\");\n        }\n      );\n    }\n  },\n  created() {\n    this.fetchQuizzes();\n  }\n};\n</script>"]}]}